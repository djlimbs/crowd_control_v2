eval("(function() {\n\nEmber.TEMPLATES[\"main\"] = Ember.Handlebars.template(function anonymous(Handlebars,depth0,helpers,partials,data) {\nthis.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Ember.Handlebars.helpers); data = data || {};\n  var buffer = '', stack1, hashTypes, hashContexts, options, helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression, self=this;\n\nfunction program1(depth0,data) {\n  \n  var buffer = '', stack1, hashContexts, hashTypes, options;\n  data.buffer.push(\"\\n                <li \");\n  hashContexts = {'class': depth0};\n  hashTypes = {'class': \"STRING\"};\n  options = {hash:{\n    'class': (\"active\")\n  },contexts:[],types:[],hashContexts:hashContexts,hashTypes:hashTypes,data:data};\n  data.buffer.push(escapeExpression(((stack1 = helpers['bind-attr'] || (depth0 && depth0['bind-attr'])),stack1 ? stack1.call(depth0, options) : helperMissing.call(depth0, \"bind-attr\", options))));\n  data.buffer.push(\" \");\n  hashTypes = {};\n  hashContexts = {};\n  data.buffer.push(escapeExpression(helpers.action.call(depth0, \"clickSelectTab\", {hash:{},contexts:[depth0],types:[\"STRING\"],hashContexts:hashContexts,hashTypes:hashTypes,data:data})));\n  data.buffer.push(\"><a href=\\\"#\\\">\");\n  hashTypes = {};\n  hashContexts = {};\n  data.buffer.push(escapeExpression(helpers._triageMustache.call(depth0, \"name\", {hash:{},contexts:[depth0],types:[\"ID\"],hashContexts:hashContexts,hashTypes:hashTypes,data:data})));\n  data.buffer.push(\"</a></li>\\n            \");\n  return buffer;\n  }\n\n  data.buffer.push(\"<div class=\\\"container mt10\\\">\\n\t<div class=\\\"clearfix\\\">\\n\t\t<div class=\\\"pull-right\\\">\\n            <span class=\\\"main-label vam\\\">Crowd Control</span>\\n            <button class=\\\"btn btn-default btn-sm ml5\\\" \");\n  hashTypes = {};\n  hashContexts = {};\n  data.buffer.push(escapeExpression(helpers.action.call(depth0, \"clickLogout\", {hash:{},contexts:[depth0],types:[\"STRING\"],hashContexts:hashContexts,hashTypes:hashTypes,data:data})));\n  data.buffer.push(\">Logout</button>\\n        </div>\\n\t\t<ul class=\\\"nav nav-tabs\\\">\\n            \");\n  hashContexts = {'itemController': depth0};\n  hashTypes = {'itemController': \"STRING\"};\n  stack1 = helpers.each.call(depth0, \"tabs\", {hash:{\n    'itemController': (\"tab\")\n  },inverse:self.noop,fn:self.program(1, program1, data),contexts:[depth0],types:[\"ID\"],hashContexts:hashContexts,hashTypes:hashTypes,data:data});\n  if(stack1 || stack1 === 0) { data.buffer.push(stack1); }\n  data.buffer.push(\"\\n\t    </ul>\\n\t</div>\\n\t\");\n  hashTypes = {};\n  hashContexts = {};\n  options = {hash:{},contexts:[depth0,depth0],types:[\"STRING\",\"ID\"],hashContexts:hashContexts,hashTypes:hashTypes,data:data};\n  data.buffer.push(escapeExpression(((stack1 = helpers.render || (depth0 && depth0.render)),stack1 ? stack1.call(depth0, \"tab\", \"selectedTab\", options) : helperMissing.call(depth0, \"render\", \"tab\", \"selectedTab\", options))));\n  data.buffer.push(\"\\n\t<div class=\\\"footer\\\">\\n\t\t\");\n  hashTypes = {};\n  hashContexts = {};\n  options = {hash:{},contexts:[depth0],types:[\"STRING\"],hashContexts:hashContexts,hashTypes:hashTypes,data:data};\n  data.buffer.push(escapeExpression(((stack1 = helpers.outlet || (depth0 && depth0.outlet)),stack1 ? stack1.call(depth0, \"songPreview\", options) : helperMissing.call(depth0, \"outlet\", \"songPreview\", options))));\n  data.buffer.push(\"\\n        <p>Song previews provided courtesy of iTunes</p>\\n\t\t<p>&copy; Erika 2014</p>\\n\t</div>\\n</div>\");\n  return buffer;\n  \n});\n\nEmber.TEMPLATES[\"tab\"] = Ember.Handlebars.template(function anonymous(Handlebars,depth0,helpers,partials,data) {\nthis.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Ember.Handlebars.helpers); data = data || {};\n  var buffer = '', stack1, hashTypes, hashContexts, escapeExpression=this.escapeExpression, self=this, helperMissing=helpers.helperMissing;\n\nfunction program1(depth0,data) {\n  \n  var buffer = '', hashTypes, hashContexts;\n  data.buffer.push(\"\\n                    <li><a href=\\\"#\\\" \");\n  hashTypes = {};\n  hashContexts = {};\n  data.buffer.push(escapeExpression(helpers.action.call(depth0, \"clickShowPlaylist\", \"\", {hash:{},contexts:[depth0,depth0],types:[\"STRING\",\"ID\"],hashContexts:hashContexts,hashTypes:hashTypes,data:data})));\n  data.buffer.push(\">\");\n  hashTypes = {};\n  hashContexts = {};\n  data.buffer.push(escapeExpression(helpers._triageMustache.call(depth0, \"\", {hash:{},contexts:[depth0],types:[\"ID\"],hashContexts:hashContexts,hashTypes:hashTypes,data:data})));\n  data.buffer.push(\"</a></li>\\n                \");\n  return buffer;\n  }\n\nfunction program3(depth0,data) {\n  \n  var buffer = '', stack1, hashTypes, hashContexts;\n  data.buffer.push(\"\\n    \");\n  hashTypes = {};\n  hashContexts = {};\n  stack1 = helpers.each.call(depth0, \"displayedPlaylists\", {hash:{},inverse:self.noop,fn:self.program(4, program4, data),contexts:[depth0],types:[\"ID\"],hashContexts:hashContexts,hashTypes:hashTypes,data:data});\n  if(stack1 || stack1 === 0) { data.buffer.push(stack1); }\n  data.buffer.push(\"\\n\");\n  return buffer;\n  }\nfunction program4(depth0,data) {\n  \n  var buffer = '', stack1, hashTypes, hashContexts;\n  data.buffer.push(\"\\n        <div class=\\\"row text-center\\\">\\n            <div style=\\\"padding-bottom:10px;\\\">\\n                <h4 class=\\\"mb0\\\">\");\n  hashTypes = {};\n  hashContexts = {};\n  data.buffer.push(escapeExpression(helpers._triageMustache.call(depth0, \"name\", {hash:{},contexts:[depth0],types:[\"ID\"],hashContexts:hashContexts,hashTypes:hashTypes,data:data})));\n  data.buffer.push(\"</h4>\\n                <p><small><i class=\\\"text-muted\\\">\");\n  hashTypes = {};\n  hashContexts = {};\n  data.buffer.push(escapeExpression(helpers._triageMustache.call(depth0, \"description\", {hash:{},contexts:[depth0],types:[\"ID\"],hashContexts:hashContexts,hashTypes:hashTypes,data:data})));\n  data.buffer.push(\"</i></small></p>\\n            </div>\\n            \");\n  hashContexts = {'itemController': depth0};\n  hashTypes = {'itemController': \"STRING\"};\n  stack1 = helpers.each.call(depth0, \"songs\", {hash:{\n    'itemController': (\"song\")\n  },inverse:self.noop,fn:self.program(5, program5, data),contexts:[depth0],types:[\"ID\"],hashContexts:hashContexts,hashTypes:hashTypes,data:data});\n  if(stack1 || stack1 === 0) { data.buffer.push(stack1); }\n  data.buffer.push(\"\\n        </div>\\n    \");\n  return buffer;\n  }\nfunction program5(depth0,data) {\n  \n  var buffer = '', stack1, stack2, hashContexts, hashTypes, options;\n  data.buffer.push(\"\\n                <div class=\\\"col-lg-3 col-md-4 col-sm-6 col-xs-6\\\">\\n                    <div class=\\\"song-choice\\\">\\n                        <span \");\n  hashContexts = {'class': depth0};\n  hashTypes = {'class': \"STRING\"};\n  options = {hash:{\n    'class': (\"score\")\n  },contexts:[],types:[],hashContexts:hashContexts,hashTypes:hashTypes,data:data};\n  data.buffer.push(escapeExpression(((stack1 = helpers['bind-attr'] || (depth0 && depth0['bind-attr'])),stack1 ? stack1.call(depth0, options) : helperMissing.call(depth0, \"bind-attr\", options))));\n  data.buffer.push(\">\");\n  hashTypes = {};\n  hashContexts = {};\n  data.buffer.push(escapeExpression(helpers._triageMustache.call(depth0, \"displayText\", {hash:{},contexts:[depth0],types:[\"ID\"],hashContexts:hashContexts,hashTypes:hashTypes,data:data})));\n  data.buffer.push(\"</span>\\n                        <div class=\\\"rate\\\">\\n                            \");\n  hashTypes = {};\n  hashContexts = {};\n  stack2 = helpers['if'].call(depth0, \"itunesPreviewUrl\", {hash:{},inverse:self.noop,fn:self.program(6, program6, data),contexts:[depth0],types:[\"ID\"],hashContexts:hashContexts,hashTypes:hashTypes,data:data});\n  if(stack2 || stack2 === 0) { data.buffer.push(stack2); }\n  data.buffer.push(\"\\n                            <small class=\\\"clickable\\\" \");\n  hashTypes = {};\n  hashContexts = {};\n  data.buffer.push(escapeExpression(helpers.action.call(depth0, \"clickPlay\", {hash:{},contexts:[depth0],types:[\"STRING\"],hashContexts:hashContexts,hashTypes:hashTypes,data:data})));\n  data.buffer.push(\">Play</small> \\n                            &#8226; <small class=\\\"clickable\\\" \");\n  hashTypes = {};\n  hashContexts = {};\n  data.buffer.push(escapeExpression(helpers.action.call(depth0, \"clickNay\", {hash:{},contexts:[depth0],types:[\"STRING\"],hashContexts:hashContexts,hashTypes:hashTypes,data:data})));\n  data.buffer.push(\">Nay</small> \\n                            &#8226; <small class=\\\"clickable\\\" \");\n  hashTypes = {};\n  hashContexts = {};\n  data.buffer.push(escapeExpression(helpers.action.call(depth0, \"clickEitherWay\", {hash:{},contexts:[depth0],types:[\"STRING\"],hashContexts:hashContexts,hashTypes:hashTypes,data:data})));\n  data.buffer.push(\">Either Way</small>\\n                        </div>\\n                        \");\n  hashTypes = {};\n  hashContexts = {};\n  stack2 = helpers['if'].call(depth0, \"itunesBuyUrl\", {hash:{},inverse:self.noop,fn:self.program(11, program11, data),contexts:[depth0],types:[\"ID\"],hashContexts:hashContexts,hashTypes:hashTypes,data:data});\n  if(stack2 || stack2 === 0) { data.buffer.push(stack2); }\n  data.buffer.push(\"\\n                    </div>\\n                </div>\\n            \");\n  return buffer;\n  }\nfunction program6(depth0,data) {\n  \n  var buffer = '', stack1, hashTypes, hashContexts;\n  data.buffer.push(\"\\n                                \");\n  hashTypes = {};\n  hashContexts = {};\n  stack1 = helpers['if'].call(depth0, \"isPlaying\", {hash:{},inverse:self.program(9, program9, data),fn:self.program(7, program7, data),contexts:[depth0],types:[\"ID\"],hashContexts:hashContexts,hashTypes:hashTypes,data:data});\n  if(stack1 || stack1 === 0) { data.buffer.push(stack1); }\n  data.buffer.push(\" \\n                                &#8226; \\n                            \");\n  return buffer;\n  }\nfunction program7(depth0,data) {\n  \n  var buffer = '', hashTypes, hashContexts;\n  data.buffer.push(\"\\n                                    <span class=\\\"clickable glyphicon glyphicon-stop\\\" \");\n  hashTypes = {};\n  hashContexts = {};\n  data.buffer.push(escapeExpression(helpers.action.call(depth0, \"clickStop\", {hash:{},contexts:[depth0],types:[\"STRING\"],hashContexts:hashContexts,hashTypes:hashTypes,data:data})));\n  data.buffer.push(\"></span>\\n                                \");\n  return buffer;\n  }\n\nfunction program9(depth0,data) {\n  \n  var buffer = '', hashTypes, hashContexts;\n  data.buffer.push(\"\\n                                    <span class=\\\"clickable glyphicon glyphicon-music\\\" \");\n  hashTypes = {};\n  hashContexts = {};\n  data.buffer.push(escapeExpression(helpers.action.call(depth0, \"clickPreview\", {hash:{},contexts:[depth0],types:[\"STRING\"],hashContexts:hashContexts,hashTypes:hashTypes,data:data})));\n  data.buffer.push(\"></span>\\n                                \");\n  return buffer;\n  }\n\nfunction program11(depth0,data) {\n  \n  var buffer = '', stack1, hashContexts, hashTypes, options;\n  data.buffer.push(\"\\n                            <div class=\\\"rate\\\">\\n                                <small class=\\\"clickable\\\"><a \");\n  hashContexts = {'href': depth0};\n  hashTypes = {'href': \"STRING\"};\n  options = {hash:{\n    'href': (\"itunesBuyUrl\")\n  },contexts:[],types:[],hashContexts:hashContexts,hashTypes:hashTypes,data:data};\n  data.buffer.push(escapeExpression(((stack1 = helpers['bind-attr'] || (depth0 && depth0['bind-attr'])),stack1 ? stack1.call(depth0, options) : helperMissing.call(depth0, \"bind-attr\", options))));\n  data.buffer.push(\" target=\\\"_blank\\\">Download on iTunes</a></small>\\n                            </div>\\n                        \");\n  return buffer;\n  }\n\nfunction program13(depth0,data) {\n  \n  var buffer = '', stack1, hashTypes, hashContexts;\n  data.buffer.push(\"\\n    \");\n  hashTypes = {};\n  hashContexts = {};\n  stack1 = helpers.each.call(depth0, \"displayedPlaylists\", {hash:{},inverse:self.noop,fn:self.programWithDepth(14, program14, data, depth0),contexts:[depth0],types:[\"ID\"],hashContexts:hashContexts,hashTypes:hashTypes,data:data});\n  if(stack1 || stack1 === 0) { data.buffer.push(stack1); }\n  data.buffer.push(\"\\n\");\n  return buffer;\n  }\nfunction program14(depth0,data,depth1) {\n  \n  var buffer = '', stack1, hashTypes, hashContexts;\n  data.buffer.push(\"\\n        <div class=\\\"row text-center\\\">\\n            <div style=\\\"padding-bottom:10px;\\\">\\n                <h4 class=\\\"mb0\\\">\");\n  hashTypes = {};\n  hashContexts = {};\n  data.buffer.push(escapeExpression(helpers._triageMustache.call(depth0, \"name\", {hash:{},contexts:[depth0],types:[\"ID\"],hashContexts:hashContexts,hashTypes:hashTypes,data:data})));\n  data.buffer.push(\"</h4>\\n                <p><small><i class=\\\"text-muted\\\">\");\n  hashTypes = {};\n  hashContexts = {};\n  data.buffer.push(escapeExpression(helpers._triageMustache.call(depth0, \"description\", {hash:{},contexts:[depth0],types:[\"ID\"],hashContexts:hashContexts,hashTypes:hashTypes,data:data})));\n  data.buffer.push(\"</i></small></p>\\n            </div>\\n        </div>\\n        \");\n  hashTypes = {};\n  hashContexts = {};\n  stack1 = helpers['if'].call(depth0, \"noSongsScored\", {hash:{},inverse:self.noop,fn:self.program(15, program15, data),contexts:[depth1],types:[\"ID\"],hashContexts:hashContexts,hashTypes:hashTypes,data:data});\n  if(stack1 || stack1 === 0) { data.buffer.push(stack1); }\n  data.buffer.push(\"\\n        <div class=\\\"row text-center\\\">\\n            \");\n  hashContexts = {'itemController': depth0};\n  hashTypes = {'itemController': \"STRING\"};\n  stack1 = helpers.each.call(depth0, \"songs\", {hash:{\n    'itemController': (\"song\")\n  },inverse:self.noop,fn:self.program(17, program17, data),contexts:[depth0],types:[\"ID\"],hashContexts:hashContexts,hashTypes:hashTypes,data:data});\n  if(stack1 || stack1 === 0) { data.buffer.push(stack1); }\n  data.buffer.push(\"\\n        </div>\\n    \");\n  return buffer;\n  }\nfunction program15(depth0,data) {\n  \n  var buffer = '', hashTypes, hashContexts;\n  data.buffer.push(\"\\n            <div class=\\\"row text-center\\\">\\n                <p>Nothing picked yet! See them <a href=\\\"#\\\" \");\n  hashTypes = {};\n  hashContexts = {};\n  data.buffer.push(escapeExpression(helpers.action.call(depth0, \"clickShowAllSongs\", {hash:{},contexts:[depth0],types:[\"STRING\"],hashContexts:hashContexts,hashTypes:hashTypes,data:data})));\n  data.buffer.push(\">all</a> to start rating songs!</p>\\n            </div>\\n        \");\n  return buffer;\n  }\n\nfunction program17(depth0,data) {\n  \n  var buffer = '', stack1, hashTypes, hashContexts;\n  data.buffer.push(\"\\n                <div class=\\\"song-choice\\\">\\n                    <span>\");\n  hashTypes = {};\n  hashContexts = {};\n  data.buffer.push(escapeExpression(helpers._triageMustache.call(depth0, \"displayText\", {hash:{},contexts:[depth0],types:[\"ID\"],hashContexts:hashContexts,hashTypes:hashTypes,data:data})));\n  data.buffer.push(\"</span>\\n                    <div class=\\\"rate\\\">\\n                        <span class=\\\"clickable glyphicon glyphicon-music\\\"></span> \\n                        \");\n  hashTypes = {};\n  hashContexts = {};\n  stack1 = helpers.unless.call(depth0, \"isPlay\", {hash:{},inverse:self.noop,fn:self.program(18, program18, data),contexts:[depth0],types:[\"ID\"],hashContexts:hashContexts,hashTypes:hashTypes,data:data});\n  if(stack1 || stack1 === 0) { data.buffer.push(stack1); }\n  data.buffer.push(\"\\n                        \");\n  hashTypes = {};\n  hashContexts = {};\n  stack1 = helpers.unless.call(depth0, \"isNay\", {hash:{},inverse:self.noop,fn:self.program(20, program20, data),contexts:[depth0],types:[\"ID\"],hashContexts:hashContexts,hashTypes:hashTypes,data:data});\n  if(stack1 || stack1 === 0) { data.buffer.push(stack1); }\n  data.buffer.push(\"\\n                        &#8226; <small class=\\\"clickable\\\" \");\n  hashTypes = {};\n  hashContexts = {};\n  data.buffer.push(escapeExpression(helpers.action.call(depth0, \"clickEitherWay\", {hash:{},contexts:[depth0],types:[\"STRING\"],hashContexts:hashContexts,hashTypes:hashTypes,data:data})));\n  data.buffer.push(\">Either Way</small>\\n                    </div>\\n                </div>\\n            \");\n  return buffer;\n  }\nfunction program18(depth0,data) {\n  \n  var buffer = '', hashTypes, hashContexts;\n  data.buffer.push(\"&#8226; <small class=\\\"clickable\\\" \");\n  hashTypes = {};\n  hashContexts = {};\n  data.buffer.push(escapeExpression(helpers.action.call(depth0, \"clickPlay\", {hash:{},contexts:[depth0],types:[\"STRING\"],hashContexts:hashContexts,hashTypes:hashTypes,data:data})));\n  data.buffer.push(\">Play</small> \");\n  return buffer;\n  }\n\nfunction program20(depth0,data) {\n  \n  var buffer = '', hashTypes, hashContexts;\n  data.buffer.push(\"&#8226; <small class=\\\"clickable\\\" \");\n  hashTypes = {};\n  hashContexts = {};\n  data.buffer.push(escapeExpression(helpers.action.call(depth0, \"clickNay\", {hash:{},contexts:[depth0],types:[\"STRING\"],hashContexts:hashContexts,hashTypes:hashTypes,data:data})));\n  data.buffer.push(\">Nay</small> \");\n  return buffer;\n  }\n\n  data.buffer.push(\"<div class=\\\"header\\\" style=\\\"margin-top:19px;\\\">\\n    <div class=\\\"pull-right menu-items\\\">\\n        <div class=\\\"btn-group\\\">\\n            <button type=\\\"button\\\" class=\\\"btn btn-default dropdown-toggle\\\" data-toggle=\\\"dropdown\\\">\\n                Show <span class=\\\"caret\\\"></span>\\n            </button>\\n            <ul class=\\\"dropdown-menu\\\" role=\\\"menu\\\">\\n                <li><a href=\\\"#\\\" \");\n  hashTypes = {};\n  hashContexts = {};\n  data.buffer.push(escapeExpression(helpers.action.call(depth0, \"clickShowAllSongs\", {hash:{},contexts:[depth0],types:[\"STRING\"],hashContexts:hashContexts,hashTypes:hashTypes,data:data})));\n  data.buffer.push(\">All Songs</a></li>\\n                \");\n  hashTypes = {};\n  hashContexts = {};\n  stack1 = helpers.each.call(depth0, \"allPlaylists\", {hash:{},inverse:self.noop,fn:self.program(1, program1, data),contexts:[depth0],types:[\"ID\"],hashContexts:hashContexts,hashTypes:hashTypes,data:data});\n  if(stack1 || stack1 === 0) { data.buffer.push(stack1); }\n  data.buffer.push(\"\\n                <li class=\\\"divider\\\"></li>\\n                <li><a href=\\\"#\\\" \");\n  hashTypes = {};\n  hashContexts = {};\n  data.buffer.push(escapeExpression(helpers.action.call(depth0, \"clickShowPlays\", {hash:{},contexts:[depth0],types:[\"STRING\"],hashContexts:hashContexts,hashTypes:hashTypes,data:data})));\n  data.buffer.push(\">Just Plays</a></li>\\n                <li><a href=\\\"#\\\" \");\n  hashTypes = {};\n  hashContexts = {};\n  data.buffer.push(escapeExpression(helpers.action.call(depth0, \"clickShowNays\", {hash:{},contexts:[depth0],types:[\"STRING\"],hashContexts:hashContexts,hashTypes:hashTypes,data:data})));\n  data.buffer.push(\">Just Nays</a></li>\\n            </ul>\\n        </div>\\n        <button type=\\\"button\\\" class=\\\"btn btn-default\\\">Print</button>\\n    </div>\\n    <h3 class=\\\"pb0\\\">\");\n  hashTypes = {};\n  hashContexts = {};\n  data.buffer.push(escapeExpression(helpers._triageMustache.call(depth0, \"header\", {hash:{},contexts:[depth0],types:[\"ID\"],hashContexts:hashContexts,hashTypes:hashTypes,data:data})));\n  data.buffer.push(\"</h3>\\n    <p>\");\n  hashTypes = {};\n  hashContexts = {};\n  data.buffer.push(escapeExpression(helpers._triageMustache.call(depth0, \"description\", {hash:{},contexts:[depth0],types:[\"ID\"],hashContexts:hashContexts,hashTypes:hashTypes,data:data})));\n  data.buffer.push(\"</p>\\n</div>\\n\");\n  hashTypes = {};\n  hashContexts = {};\n  stack1 = helpers.unless.call(depth0, \"preferenceFilter\", {hash:{},inverse:self.noop,fn:self.program(3, program3, data),contexts:[depth0],types:[\"ID\"],hashContexts:hashContexts,hashTypes:hashTypes,data:data});\n  if(stack1 || stack1 === 0) { data.buffer.push(stack1); }\n  data.buffer.push(\"\\n\");\n  hashTypes = {};\n  hashContexts = {};\n  stack1 = helpers['if'].call(depth0, \"preferenceFilter\", {hash:{},inverse:self.noop,fn:self.program(13, program13, data),contexts:[depth0],types:[\"ID\"],hashContexts:hashContexts,hashTypes:hashTypes,data:data});\n  if(stack1 || stack1 === 0) { data.buffer.push(stack1); }\n  data.buffer.push(\"\\n\");\n  return buffer;\n  \n});\n\n})();//@ sourceURL=coupleApp/templates.js")

eval("(function() {\n\n// Kick off Ember\nCCCouple = Ember.Application.create({\n    rootElement: '#application',\n});\n\n// Views\nCCCouple.SongPreviewView = Ember.View.extend({\n    tagName: 'audio',\n    attributeBindings: ['src'],\n    src: function() {\n        return this.get('controller.songUrl');\n    }.property(),\n    didInsertElement: function() {\n        var self = this;\n        this.$().on('ended pause', function() {\n            self.get('controller').set('songUrl', undefined)\n                                  .send('finishedPreview');\n        }).context.play();\n    }\n});\n\n\n\n// Controllers\nCCCouple.MainController = Ember.ObjectController.extend({\n    actions: {\n        selectTab: function(name) {\n            this.set('selectedTab', this.get('tabs').findBy('name', name));\n        }\n    }\n});\n\n\nCCCouple.TabController = Ember.ObjectController.extend({\n    needs: ['main'],\n    votesBinding: 'controllers.main.votes',\n    selectedTabBinding: 'controllers.main.selectedTab',\n    active: function() {\n        return this.get('name') === this.get('selectedTab').name;\n    }.property('selectedTab'),\n    allPlaylists: function() {\n        var playlistsData = this.get('playlistsData');\n        return Ember.isNone(playlistsData) ? [] : this.get('playlists').map(function(pl) { return playlistsData.findBy('id', pl); }).getEach('name');\n    }.property('playlists', 'playlistsData'),\n    displayedPlaylists: function() {\n        var playlistsData = this.get('playlistsData');\n        var playlists = this.get('playlists').map(function(pl) { return playlistsData.findBy('id', pl); });\n        var playlistFilter = this.get('playlistFilter');\n        var preferenceFilter = this.get('preferenceFilter');\n        if (!Ember.isNone(playlistFilter)) {\n            return playlists.filter(function(playlist) {\n                return playlist.name === playlistFilter;\n            });\n        } else if (!Ember.isNone(preferenceFilter)) {\n            var playVotes = this.get('votes').filterBy('score', preferenceFilter);\n\n            return [{\n                name: 'Your selected ' + preferenceFilter + 's',\n                songs: playlists.getEach('songs').compact().reduce(function(a,b) { return a.concat(b); }).filter(function(song) {\n                            return playVotes.anyBy('song', song.id);\n                        })\n            }];\n        } else {\n            return playlists;\n        }\n    }.property('playlists', 'playlistsData', 'playlistFilter', 'preferenceFilter', 'votes'),\n    noSongsScored: function() {\n        console.log(this.get('displayedPlaylists').getEach('songs'))\n        if (!Ember.isEmpty(this.get('displayedPlaylists').getEach('songs'))) {\n            return Ember.isEmpty(this.get('displayedPlaylists').getEach('songs').reduce(function(a,b) { return a.concat(b); }));\n        }\n    }.property('displayedPlaylists'),\n    actions: {\n        clickSelectTab: function() {\n            this.send('selectTab', this.get('name'));\n        },\n        clickShowPlaylist: function(playlistName) {\n            this.setProperties({\n                playlistFilter: playlistName.valueOf(),\n                preferenceFilter: undefined\n            });\n        },\n        clickShowAllSongs: function() {\n            this.setProperties({\n                playlistFilter: undefined,\n                preferenceFilter: undefined\n            });\n        },\n        clickShowPlays: function() {\n            this.setProperties({\n                playlistFilter: undefined,\n                preferenceFilter: 'play',\n            });\n        },\n        clickShowNays: function(preference) {\n            this.setProperties({\n                categoryFilter: undefined,\n                preferenceFilter: 'nay'\n            });\n        }\n    }\n});\n\nCCCouple.SongController = Ember.ObjectController.extend({\n    needs: ['main'],\n    votesBinding: 'controllers.main.votes',\n    userIdBinding: 'controllers.main.id',\n    myVote: function() {\n        var self = this;\n        return this.get('votes').find(function(vote) {\n            return vote.voter === self.get('userId') && vote.song === self.get('id');\n        });\n    }.property('votes'),\n    score: function() {\n        return !Ember.isNone(this.get('myVote')) ? this.get('myVote').score : 'either way';\n    }.property('myVote'),\n    isPlaying: function() {\n        return !Ember.isNone(this.get('songUrl'));\n    }.property('songUrl'),\n    actions: {\n        clickStop: function() {\n            $('audio')[0].pause();\n        },\n        clickPreview: function() {\n            if($('audio').length > 0) {\n                $('audio')[0].pause();\n            }\n            var self = this;\n            var callback = function(result, error) {\n                console.log($.parseJSON(result.response.trim()));\n                if (!Ember.isNone(result)) {\n                    var responseObject = $.parseJSON(result.response.trim());\n                    var songPreviewUrl = !Ember.isEmpty(responseObject.results) ? responseObject.results[0].previewUrl : undefined;\n                    self.set('songUrl', songPreviewUrl).send('previewSong', self);\n                }\n\n                if (!Ember.isNone(error)) {\n                    console.log(error);\n                }\n            }\n\n            if (!Ember.isNone(this.get('itunesPreviewUrl'))) {\n                this.set('songUrl', this.get('itunesPreviewUrl')).send('previewSong', this);\n            } else if (!Ember.isNone(this.get('itunesId'))) {\n                dpd.itunes.get({ id: this.get('itunesId')}, callback)\n            } else {\n                console.log('here')\n                dpd.itunes.get({ displayText : this.get('displayText')}, callback);\n            }\n        },\n        clickPlay: function() {\n            var self = this;\n            var vote = this.get('myVote');\n            if (!Ember.isNone(vote)) {\n                vote.score = 'play';\n                dpd.votes.put(vote, function(result, error) {\n                    self.notifyPropertyChange('votes');\n                    self.get('parentController').notifyPropertyChange('votes');\n                });\n            } else {\n                vote = {\n                    voter: this.get('userId'),\n                    song: this.get('id'),\n                    score: 'play'\n                };\n                dpd.votes.post(vote, function(result, error) {\n                    if (!Ember.isNone(result)) {\n                        vote.id = result.id;\n                        self.get('votes').addObject(vote);\n                        self.notifyPropertyChange('votes');\n                        self.get('parentController').notifyPropertyChange('votes');\n                    }\n                });\n            }\n\n            \n        },\n        clickNay: function() {\n            var self = this;\n            var vote = this.get('myVote');\n            if (!Ember.isNone(vote)) {\n                vote.score = 'nay';\n                dpd.votes.put(vote, function(result, error) {\n                    if (!Ember.isNone(result)) {\n                        self.notifyPropertyChange('votes');\n                        self.get('parentController').notifyPropertyChange('votes');\n                    }\n                });\n            } else {\n                vote = {\n                    voter: this.get('userId'),\n                    song: this.get('id'),\n                    score: 'nay'\n                };\n                dpd.votes.post(vote, function(result, error) {\n                    if (!Ember.isNone(result)) {\n                        vote.id = result.id;\n                        self.get('votes').addObject(vote);\n                        self.notifyPropertyChange('votes');\n                    }\n                });\n            }\n        },\n        clickEitherWay: function() {\n            var vote = this.get('myVote');\n            this.get('votes').removeObject(vote);\n            if (!Ember.isNone(vote) && !Ember.isNone(vote.id)) { dpd.votes.del(vote.id); }\n            this.notifyPropertyChange('votes');\n        }\n    }\n});\n\n// Routes\nCCCouple.MainRoute = Ember.Route.extend({\n    model: function() {\n        return new Ember.RSVP.Promise(function(resolve, reject) {\n            var coupleData = Ember.Object.create();\n            dpd.users.me(function(result, error) {\n                var emberObject = Ember.Object.create(result);\n                resolve(emberObject);\n            });\n        });\n    },\n    setupController: function(controller, model) {\n        controller.setProperties({\n            model: model,\n            selectedTab: !Ember.isNone(model.get('tabs')) ? model.get('tabs')[0] : undefined\n        });\n    },\n    actions: {\n        previewSong: function(song) {\n            this.render('songPreview', {\n                into: 'main',\n                outlet: 'songPreview',\n                controller: song\n            });\n        },\n        finishedPreview: function() {\n            console.log('done');\n            this.disconnectOutlet({\n                outlet: 'songPreview',\n                parentView: 'main'\n            });\n        },\n        clickLogout: function() {\n            dpd.users.logout(function(result, error) {\n                if (!Ember.isNone(result)) {\n                    window.location.href = '../crowdControlApps/login.html';\n                }\n\n                if (!Ember.isNone(error)) {\n                    console.log(error);\n                }\n            });\n        }\n    }\n});\n\n\n// Router\nCCCouple.Router.map(function() {\n    this.resource('main', { path: '/' });\n});\n\n// This setting disables the detail routing from showing up in the navbar.\nCCCouple.Router.reopen( {\n    location: 'none'\n});\n\n})();//@ sourceURL=coupleApp/ccCoupleApp.js")